<idea-plugin>
    <id>eu.bradan.purebasic.PureBasic</id>
    <name>PureBasic Language</name>
    <vendor email="purebasic@bradan.eu" url="http://www.bradan.eu/">Daniel Brall</vendor>

    <description><![CDATA[
    PureBasic/SpiderBasic language support for IntelliJ IDEA.
    ]]></description>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="PureBasic File" implementationClass="eu.bradan.purebasic.PureBasicFileType"
                  fieldName="INSTANCE" language="PureBasic" extensions="pb;pbi;pbh;pbf;sb;sbi;sbh;sbf"/>

        <!--<sdkType implementation="eu.bradan.purebasic.module.PureBasicSdkType"/>-->

        <moduleType id="PUREBASIC_MODULE" implementationClass="eu.bradan.purebasic.module.PureBasicModuleType"/>
        <moduleBuilder id="PUREBASIC_MODULE_BUILDER" order="first"
                       builderClass="eu.bradan.purebasic.module.PureBasicModuleBuilder"/>

        <lang.parserDefinition language="PureBasic"
                               implementationClass="eu.bradan.purebasic.PureBasicParserDefinition"/>
        <lang.syntaxHighlighterFactory language="PureBasic"
                                       implementationClass="eu.bradan.purebasic.PureBasicHighlighterFactory"/>
        <lang.psiStructureViewFactory language="PureBasic"
                                      implementationClass="eu.bradan.purebasic.structure.PureBasicStructureViewFactory"/>

        <completion.contributor language="PureBasic"
                                implementationClass="eu.bradan.purebasic.completion.PureBasicCompletionContributor"/>

        <colorSettingsPage implementation="eu.bradan.purebasic.settings.PureBasicColorSettingsPage"/>

        <configurationType implementation="eu.bradan.purebasic.run.PureBasicConfigurationType"/>
        <programRunner implementation="eu.bradan.purebasic.run.PureBasicProgramRunner"/>

        <projectTaskRunner implementation="eu.bradan.purebasic.builder.PureBasicBuildProjectTaskRunner"/>
        <toolWindow id="PureBasic Build"
                    icon="/icons/compilePureBasic.svg"
                    anchor="bottom"
                    factoryClass="eu.bradan.purebasic.builder.PureBasicBuildToolWindowFactory"/>

        <projectConfigurable instance="eu.bradan.purebasic.settings.PureBasicCompilerSettingsConfigurable"
                             groupId="build.tools"/>

        <applicationService
                serviceImplementation="eu.bradan.purebasic.settings.PureBasicCompilerSettings"/>

        <moduleService serviceImplementation="eu.bradan.purebasic.module.PureBasicModuleSettings"/>
        <moduleConfigurationEditorProvider
                implementation="eu.bradan.purebasic.module.PureBasicModuleConfigurationEditorProvider"/>
    </extensions>

    <actions>
        <group id="PureBasicBuildMenu" popup="true">
            <action id="CompilePureBasic" class="eu.bradan.purebasic.builder.CompilePureBasicModulesAction"
                    icon="/icons/compilePureBasic.svg"/>
            <add-to-group group-id="BuildMenu" anchor="first"/>
        </group>
        <group id="PureBasicToolbarMakeGroup">
            <reference ref="CompilePureBasic"/>
            <add-to-group group-id="ToolbarRunGroup" relative-to-action="RunConfiguration" anchor="before"/>
        </group>
    </actions>
</idea-plugin>